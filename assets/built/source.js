function dropdown(){const i=window.matchMedia("(max-width: 767px)"),r=document.querySelector(".gh-navigation"),s=r.querySelector(".gh-navigation-menu"),l=s?.querySelector(".nav");if(l){const e=document.querySelector(".gh-navigation-logo"),t=l.innerHTML;i.matches&&l.querySelectorAll("li").forEach(function(e,t){e.style.transitionDelay=.03*(t+1)+"s"});const n=function(){if(!i.matches){for(var e=[];l.offsetWidth+64>s.offsetWidth&&l.lastElementChild;)e.unshift(l.lastElementChild),l.lastElementChild.remove();if(e.length){const a=document.createElement("button"),o=(a.setAttribute("class","gh-more-toggle gh-icon-button"),a.setAttribute("aria-label","More"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor"><path d="M21.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM13.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0zM5.333 16c0-1.473 1.194-2.667 2.667-2.667v0c1.473 0 2.667 1.194 2.667 2.667v0c0 1.473-1.194 2.667-2.667 2.667v0c-1.473 0-2.667-1.194-2.667-2.667v0z"></path></svg>',document.createElement("div"));o.setAttribute("class","gh-dropdown"),10<=e.length?(r.classList.add("is-dropdown-mega"),o.style.gridTemplateRows=`repeat(${Math.ceil(e.length/2)}, 1fr)`):r.classList.remove("is-dropdown-mega"),e.forEach(function(e){o.appendChild(e)}),a.appendChild(o),l.appendChild(a);var t=a.getBoundingClientRect(),n=window.innerWidth/2;t.left<n&&o.classList.add("is-left"),r.classList.add("is-dropdown-loaded"),window.addEventListener("click",function(e){r.classList.contains("is-dropdown-open")?r.classList.remove("is-dropdown-open"):a.contains(e.target)&&r.classList.add("is-dropdown-open")})}else r.classList.add("is-dropdown-loaded")}};imagesLoaded(e,function(){n()}),window.addEventListener("load",function(){e||n()}),window.addEventListener("resize",function(){setTimeout(()=>{l.innerHTML=t,n()},1)})}}function lightbox(e){document.querySelectorAll(e).forEach(function(e){e.addEventListener("click",function(e){var t=e;t.preventDefault();for(var n,a=[],o=0,i=t.target.closest(".kg-card").previousElementSibling;i&&(i.classList.contains("kg-image-card")||i.classList.contains("kg-gallery-card"));){var r=[];i.querySelectorAll("img").forEach(function(e){r.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e}),o+=1}),i=i.previousElementSibling,a=r.concat(a)}t.target.classList.contains("kg-image")?a.push({src:t.target.getAttribute("src"),msrc:t.target.getAttribute("src"),w:t.target.getAttribute("width"),h:t.target.getAttribute("height"),el:t.target}):(n=!1,t.target.closest(".kg-gallery-card").querySelectorAll("img").forEach(function(e){a.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e}),n||e===t.target?n=!0:o+=1}));for(var s=t.target.closest(".kg-card").nextElementSibling;s&&(s.classList.contains("kg-image-card")||s.classList.contains("kg-gallery-card"));)s.querySelectorAll("img").forEach(function(e){a.push({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e})}),s=s.nextElementSibling;e=document.querySelectorAll(".pswp")[0];new PhotoSwipe(e,PhotoSwipeUI_Default,a,{bgOpacity:.9,closeOnScroll:!0,fullscreenEl:!1,history:!1,index:o,shareEl:!1,zoomEl:!1,getThumbBoundsFn:function(e){var e=a[e].el,t=window.pageYOffset||document.documentElement.scrollTop,e=e.getBoundingClientRect();return{x:e.left,y:e.top+t,w:e.width}}}).init()})})}function pagination(e=!1,s,l=!1){const u=document.querySelector(".category-post-list, .home-post-list");if(!u)return;let n=!1;async function a(){const t=document.querySelector("link[rel=next]");if(t)try{var e=await(await fetch(t.href)).text(),n=(new DOMParser).parseFromString(e,"text/html"),a=n.querySelectorAll(".category-post-list > *, .home-post-list > *");const i=document.createDocumentFragment(),r=[];a.forEach(function(e){e=document.importNode(e,!0);l&&(e.style.visibility="hidden"),i.appendChild(e),r.push(e)}),u.appendChild(i),s&&s(r,d);var o=n.querySelector("link[rel=next]");o&&o.href?t.href=o.href:(t.remove(),c&&c.remove())}catch(e){const t=document.querySelector("link[rel=next]");throw t&&t.remove(),e}}const o=document.querySelector(".pagination"),c=document.querySelector(".category-loadmore"),d=(!document.querySelector("link[rel=next]")&&c&&c.remove(),async function(){o&&o.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]")&&await a()});var t=new IntersectionObserver(async function(e,t){if(!n){if(n=!0,e[0].isIntersecting)if(l)await a();else for(;o&&o.getBoundingClientRect().top<=window.innerHeight&&document.querySelector("link[rel=next]");)await a();n=!1,document.querySelector("link[rel=next]")||t.disconnect()}});e?o&&t.observe(o):c&&c.addEventListener("click",a)}function renderPaginationNumbers(){var t=document.querySelector(".pagination[data-current-page]");if(t){var n=parseInt(t.getAttribute("data-current-page"),10)||1,e=parseInt(t.getAttribute("data-total-pages"),10)||1;const c=t.getAttribute("data-first-url")||"/",d=t.getAttribute("data-second-url")||"";var a=t.querySelector(".page-numbers");if(a){function o(e){return 1===e?c:d?d.replace(/2(\/)?$/,e+"$1"):(c.endsWith("/")?c:c+"/")+`page/${e}/`}1<n&&(t=document.createElement("li"),(r=document.createElement("a")).classList.add("prev","page-numbers"),r.href=o(n-1),r.setAttribute("aria-label","前のページ"),r.innerHTML='<i class="fa fa-chevron-left"></i>',t.appendChild(r),a.appendChild(t));var i,r=document.createElement("li"),t=(1===n?((t=document.createElement("span")).classList.add("page-numbers","current"),t.setAttribute("aria-current","page"),t.textContent="1",r.appendChild(t)):((t=document.createElement("a")).classList.add("page-numbers"),t.href=o(1),t.textContent="1",r.appendChild(t)),a.appendChild(r),Math.max(2,n-1)),s=Math.min(e-1,n+1);2<t&&(r=document.createElement("li"),(i=document.createElement("span")).classList.add("page-numbers","dots"),i.textContent="…",r.appendChild(i),a.appendChild(r));for(let e=t;e<=s;e++){var l,u=document.createElement("li");e===n?((l=document.createElement("span")).classList.add("page-numbers","current"),l.setAttribute("aria-current","page"),l.textContent=String(e),u.appendChild(l)):((l=document.createElement("a")).classList.add("page-numbers"),l.href=o(e),l.textContent=String(e),u.appendChild(l)),a.appendChild(u)}s<e-1&&(i=document.createElement("li"),(r=document.createElement("span")).classList.add("page-numbers","dots"),r.textContent="…",i.appendChild(r),a.appendChild(i)),1<e&&(t=document.createElement("li"),n===e?((r=document.createElement("span")).classList.add("page-numbers","current"),r.setAttribute("aria-current","page"),r.textContent=String(e),t.appendChild(r)):((i=document.createElement("a")).classList.add("page-numbers"),i.href=o(e),i.textContent=String(e),t.appendChild(i)),a.appendChild(t)),n<e&&(r=document.createElement("li"),(i=document.createElement("a")).classList.add("next","page-numbers"),i.href=o(n+1),i.setAttribute("aria-label","次のページ"),i.innerHTML='<i class="fa fa-chevron-right"></i>',r.appendChild(i),a.appendChild(r))}}}!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){var n;if(e&&t)return-1==(n=(n=this._events=this._events||{})[e]=n[e]||[]).indexOf(t)&&n.push(t),this},t.once=function(e,t){var n;if(e&&t)return this.on(e,t),((n=this._onceEvents=this._onceEvents||{})[e]=n[e]||{})[t]=!0,this},t.off=function(e,t){e=this._events&&this._events[e];if(e&&e.length)return-1!=(t=e.indexOf(t))&&e.splice(t,1),this},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var a=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var i=n[o];a&&a[i]&&(this.off(e,i),delete a[i]),i.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(t,n){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.imagesLoaded=n(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e,t,n){var a,o;return this instanceof r?(a="string"==typeof(a=e)?document.querySelectorAll(e):a)?(this.elements=(o=a,Array.isArray(o)?o:"object"==typeof o&&"number"==typeof o.length?u.call(o):[o]),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(a||e)):new r(e,t,n)}function n(e){this.img=e}function a(e,t){this.url=e,this.element=t,this.img=new Image}var s=t.jQuery,l=t.console,u=Array.prototype.slice,c=((r.prototype=Object.create(e.prototype)).options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&c[t]){for(var n=e.querySelectorAll("img"),a=0;a<n.length;a++){var o=n[a];this.addImage(o)}if("string"==typeof this.options.background)for(var i=e.querySelectorAll(this.options.background),a=0;a<i.length;a++){var r=i[a];this.addElementBackgroundImages(r)}}},{1:!0,9:!0,11:!0});return r.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,a=n.exec(t.backgroundImage);null!==a;){var o=a&&a[2];o&&this.addBackground(o,e),a=n.exec(t.backgroundImage)}},r.prototype.addImage=function(e){e=new n(e);this.images.push(e)},r.prototype.addBackground=function(e,t){e=new a(e,t);this.images.push(e)},r.prototype.check=function(){function t(e,t,n){setTimeout(function(){a.progress(e,t,n)})}var a=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},r.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,e,t)},r.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(n.prototype=Object.create(e.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(a.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},a.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(r.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((s=e).fn.imagesLoaded=function(e,t){return new r(this,e,t).jqDeferred.promise(s(this))})})(),r}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(a,s){function e(e){if(z)return!0;e=e||window.event,I.timeToIdle&&I.mouseUsed&&!w&&l();for(var t,n,a=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<F.length;o++)(t=F[o]).onTap&&-1<a.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);n&&(e.stopPropagation&&e.stopPropagation(),z=!0,e=s.features.isOldAndroid?600:30,setTimeout(function(){z=!1},e))}function n(){var e=1===I.getNumItemsFn();e!==C&&(M(h,"ui--one-slide",e),C=e)}function r(){M(v,"share-modal--hidden",D)}function o(){if((D=!D)?(s.removeClass(v,"pswp__share-modal--fade-in"),setTimeout(function(){D&&r()},300)):(r(),setTimeout(function(){D||s.addClass(v,"pswp__share-modal--fade-in")},30)),!D){for(var e,t,n,a,o="",i=0;i<I.shareButtons.length;i++)e=I.shareButtons[i],t=I.getImageURLForShare(e),n=I.getPageURLForShare(e),a=I.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(a))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",I.parseShareButtonOut&&(o=I.parseShareButtonOut(e,o));v.children[0].innerHTML=o,v.children[0].onclick=q}}function i(e){for(var t=0;t<I.closeElClasses.length;t++)if(s.hasClass(e,"pswp__"+I.closeElClasses[t]))return!0}function l(){clearTimeout(T),O=0,w&&A.setIdle(!1)}function u(e){(e=(e=e||window.event).relatedTarget||e.toElement)&&"HTML"!==e.nodeName||(clearTimeout(T),T=setTimeout(function(){A.setIdle(!0)},I.timeToIdleOutside))}function c(e){x!==e&&(M(k,"preloader--active",!e),x=e)}function d(e){var t,n=e.vGap;!a.likelyTouchDevice||I.mouseUsed||screen.width>I.fitControlsWidth?(t=I.barsSize,I.captionEl&&"auto"===t.bottom?(g||((g=s.createEl("pswp__caption pswp__caption--fake")).appendChild(s.createEl("pswp__caption__center")),h.insertBefore(g,p),s.addClass(h,"pswp__ui--fit")),I.addCaptionHTMLFn(e,g,!0)?(e=g.clientHeight,n.bottom=parseInt(e,10)||44):n.bottom=t.top):n.bottom="auto"===t.bottom?0:t.bottom,n.top=t.top):n.top=n.bottom=0}function j(){function e(e){if(e)for(var t=e.length,n=0;n<t;n++){o=e[n],i=o.className;for(var a=0;a<F.length;a++)r=F[a],-1<i.indexOf("pswp__"+r.name)&&(I[r.option]?(s.removeClass(o,"pswp__element--disabled"),r.onInit&&r.onInit(o)):s.addClass(o,"pswp__element--disabled"))}}e(h.children);var o,i,r,t=s.getChildByClass(h,"pswp__top-bar");t&&e(t.children)}var m,h,p,g,t,f,v,y,w,b,k,x,E,C,I,z,S,T,A=this,L=!1,_=!0,D=!0,R={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return a.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},M=function(e,t,n){s[(n?"add":"remove")+"Class"](e,"pswp__"+t)},q=function(e){var t=(e=e||window.event).target||e.srcElement;return a.shout("shareLinkClick",e,t),!(!t.href||!t.hasAttribute("download")&&(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),D||o(),1))},O=0,F=[{name:"caption",option:"captionEl",onInit:function(e){p=e}},{name:"share-modal",option:"shareEl",onInit:function(e){v=e},onTap:function(){o()}},{name:"button--share",option:"shareEl",onInit:function(e){f=e},onTap:function(){o()}},{name:"button--zoom",option:"zoomEl",onTap:a.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){t=e}},{name:"button--close",option:"closeEl",onTap:a.close},{name:"button--arrow--left",option:"arrowEl",onTap:a.prev},{name:"button--arrow--right",option:"arrowEl",onTap:a.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){m.isFullscreen()?m.exit():m.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){k=e}}];A.init=function(){var t;s.extend(a.options,R,!0),I=a.options,h=s.getChildByClass(a.scrollWrap,"pswp__ui"),(b=a.listen)("onVerticalDrag",function(e){_&&e<.95?A.hideControls():!_&&.95<=e&&A.showControls()}),b("onPinchClose",function(e){_&&e<.9?(A.hideControls(),t=!0):t&&!_&&.9<e&&A.showControls()}),b("zoomGestureEnded",function(){(t=!1)&&!_&&A.showControls()}),b("beforeChange",A.update),b("doubleTap",function(e){var t=a.currItem.initialZoomLevel;a.getZoomLevel()!==t?a.zoomTo(t,e,333):a.zoomTo(I.getDoubleTapZoom(!1,a.currItem),e,333)}),b("preventDragEvent",function(e,t,n){var a=e.target||e.srcElement;a&&a.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<a.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(a.tagName))&&(n.prevent=!1)}),b("bindEvents",function(){s.bind(h,"pswpTap click",e),s.bind(a.scrollWrap,"pswpTap",A.onGlobalTap),a.likelyTouchDevice||s.bind(a.scrollWrap,"mouseover",A.onMouseOver)}),b("unbindEvents",function(){D||o(),S&&clearInterval(S),s.unbind(document,"mouseout",u),s.unbind(document,"mousemove",l),s.unbind(h,"pswpTap click",e),s.unbind(a.scrollWrap,"pswpTap",A.onGlobalTap),s.unbind(a.scrollWrap,"mouseover",A.onMouseOver),m&&(s.unbind(document,m.eventK,A.updateFullscreen),m.isFullscreen()&&(I.hideAnimationDuration=0,m.exit()),m=null)}),b("destroy",function(){I.captionEl&&(g&&h.removeChild(g),s.removeClass(p,"pswp__caption--empty")),v&&(v.children[0].onclick=null),s.removeClass(h,"pswp__ui--over-close"),s.addClass(h,"pswp__ui--hidden"),A.setIdle(!1)}),I.showAnimationDuration||s.removeClass(h,"pswp__ui--hidden"),b("initialZoomIn",function(){I.showAnimationDuration&&s.removeClass(h,"pswp__ui--hidden")}),b("initialZoomOut",function(){s.addClass(h,"pswp__ui--hidden")}),b("parseVerticalMargin",d),j(),I.shareEl&&f&&v&&(D=!0),n(),I.timeToIdle&&b("mouseUsed",function(){s.bind(document,"mousemove",l),s.bind(document,"mouseout",u),S=setInterval(function(){2===++O&&A.setIdle(!0)},I.timeToIdle/2)}),I.fullscreenEl&&!s.features.isOldAndroid&&((m=m||A.getFullscreenAPI())?(s.bind(document,m.eventK,A.updateFullscreen),A.updateFullscreen(),s.addClass(a.template,"pswp--supports-fs")):s.removeClass(a.template,"pswp--supports-fs")),I.preloaderEl&&(c(!0),b("beforeChange",function(){clearTimeout(E),E=setTimeout(function(){a.currItem&&a.currItem.loading?a.allowProgressiveImg()&&(!a.currItem.img||a.currItem.img.naturalWidth)||c(!1):c(!0)},I.loadingIndicatorDelay)}),b("imageLoadComplete",function(e,t){a.currItem===t&&c(!0)}))},A.setIdle=function(e){M(h,"ui--idle",w=e)},A.update=function(){L=!(!_||!a.currItem||(A.updateIndexIndicator(),I.captionEl&&(I.addCaptionHTMLFn(a.currItem,p),M(p,"caption--empty",!a.currItem.title)),0)),D||o(),n()},A.updateFullscreen=function(e){e&&setTimeout(function(){a.setScrollOffset(0,s.getScrollY())},50),s[(m.isFullscreen()?"add":"remove")+"Class"](a.template,"pswp--fs")},A.updateIndexIndicator=function(){I.counterEl&&(t.innerHTML=a.getCurrentIndex()+1+I.indexIndicatorSep+I.getNumItemsFn())},A.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;if(!z)if(e.detail&&"mouse"===e.detail.pointerType)i(t)?a.close():s.hasClass(t,"pswp__img")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?I.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(e.detail.releasePoint));else if(I.tapToToggleControls&&(_?A.hideControls():A.showControls()),I.tapToClose&&(s.hasClass(t,"pswp__img")||i(t)))return void a.close()},A.onMouseOver=function(e){e=(e=e||window.event).target||e.srcElement;M(h,"ui--over-close",i(e))},A.hideControls=function(){s.addClass(h,"pswp__ui--hidden"),_=!1},A.showControls=function(){_=!0,L||A.update(),s.removeClass(h,"pswp__ui--hidden")},A.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},A.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){return y=I.closeOnScroll,I.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?a.template[this.enterK]():void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return I.closeOnScroll=y,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(m,R,t,q){var h={features:null,bind:function(e,t,n,a){var o=(a?"remove":"add")+"EventListener";t=t.split(" ");for(var i=0;i<t.length;i++)t[i]&&e[o](t[i],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){t=document.createElement(t||"div");return e&&(t.className=e),t},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){h.bind(e,t,n,!0)},removeClass:function(e,t){t=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(t," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){h.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(h.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var a=e.length;a--;)if(e[a][n]===t)return a;return-1},extend:function(e,t,n){for(var a in t)if(t.hasOwnProperty(a)){if(n&&e.hasOwnProperty(a))continue;e[a]=t[a]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(h.features)return h.features;var e,t,n=h.createEl().style,a="",o={};o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,o.pointerEvent||(e=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(o.isOldIOSPhone=!0),t=(t=e.match(/Android\s([0-9\.]*)/))?t[1]:0,1<=(t=parseFloat(t))&&(t<4.4&&(o.isOldAndroid=!0),o.androidVersion=t),o.isMobileOpera=/opera mini|opera mobi/i.test(e));for(var i,r,s,l=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],c=0;c<4;c++){for(var a=u[c],d=0;d<3;d++)i=l[d],r=a+(a?i.charAt(0).toUpperCase()+i.slice(1):i),!o[i]&&r in n&&(o[i]=r);a&&!o.raf&&(a=a.toLowerCase(),o.raf=window[a+"RequestAnimationFrame"],o.raf)&&(o.caf=window[a+"CancelAnimationFrame"]||window[a+"CancelRequestAnimationFrame"])}return o.raf||(s=0,o.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),a=window.setTimeout(function(){e(t+n)},n);return s=t+n,a},o.caf=function(e){clearTimeout(e)}),o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,h.features=o}},p=(h.detectFeatures(),h.features.oldIE&&(h.bind=function(e,t,n,a){t=t.split(" ");for(var o,i=(a?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof n&&n.handleEvent){if(a){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=r;e[i]("on"+o,n["oldIE"+o])}else e[i]("on"+o,n)}),this),P=25,g={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};h.extend(g,q);function e(){return{x:0,y:0}}function Z(e,t){h.extend(p,t.publicMethods),Ue.push(e)}function N(e){var t=M();return t-1<e?e-t:e<0?t+e:e}function i(e,t){return Ge[e]||(Ge[e]=[]),Ge[e].push(t)}function B(e,t,n,a){a===p.currItem.initialZoomLevel?n[e]=p.currItem.initialPosition[e]:(n[e]=Qe(e,a),n[e]>t.min[e]?n[e]=t.min[e]:n[e]<t.max[e]&&(n[e]=t.max[e]))}function H(e){var t="";g.escKey&&27===e.keyCode?t="close":g.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),!t||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,p[t]())}function W(e){e&&(Ae||Te||y||Ie)&&(e.preventDefault(),e.stopPropagation())}function U(){p.setScrollOffset(0,h.getScrollY())}function K(e){var t;"mousedown"===e.type&&0<e.button||(Qt?e.preventDefault():ze&&"mousedown"===e.type||(_t(e,!0)&&e.preventDefault(),E("pointerDown"),he&&((t=h.arraySearch(gt,e.pointerId,"id"))<0&&(t=gt.length),gt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),e=(t=Pt(e)).length,u=null,ut(),l&&1!==e||(l=Fe=!0,h.bind(window,ee,p),Ce=qe=je=Ie=_e=Ae=Se=Te=!1,Oe=null,E("firstTouchStart",t),S(Ne,w),Ze.x=Ze.y=0,S(_,t[0]),S(pt,_),ft.x=k.x*Be,vt=[{x:_.x,y:_.y}],xe=ke=C(),at(v,!0),zt(),St()),!c&&1<e&&!y&&!_e&&(ne=v,c=Se=!(Te=!1),Ze.y=Ze.x=0,S(Ne,w),S(A,t[0]),S(ht,t[1]),Mt(A,ht,Et),xt.x=Math.abs(Et.x)-w.x,xt.y=Math.abs(Et.y)-w.y,De=It(A,ht))))}function Y(e){var t;e.preventDefault(),he&&-1<(t=h.arraySearch(gt,e.pointerId,"id"))&&((t=gt[t]).x=e.pageX,t.y=e.pageY),l&&(t=Pt(e),Oe||Ae||c?u=t:D.x!==k.x*Be?Oe="h":(e=Math.abs(t[0].x-_.x)-Math.abs(t[0].y-_.y),Math.abs(e)>=mt&&(Oe=0<e?"h":"v",u=t)))}function G(e){if(s.isOldAndroid){if(ze&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(ze),ze=setTimeout(function(){ze=0},600))}var t;E("pointerUp"),_t(e,!1)&&e.preventDefault(),he&&-1<(i=h.arraySearch(gt,e.pointerId,"id"))&&(t=gt.splice(i,1)[0],navigator.msPointerEnabled&&(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type)||(t.type=e.pointerType||"mouse"));var n=(i=Pt(e)).length;if(2===(n="mouseup"===e.type?0:n))return!(u=null);1===n&&S(pt,i[0]),0!==n||Oe||y||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),E("touchRelease",e,t));var a,o,i=-1;if(0===n&&(l=!1,h.unbind(window,ee,p),zt(),c?i=0:-1!==kt&&(i=C()-kt)),kt=1===n?C():-1,e=-1!==i&&i<150?"zoom":"swipe",c&&n<2&&(c=!1,1===n&&(e="zoomPointerUp"),E("zoomGestureEnded")),u=null,Ae||Te||y||Ie)if(ut(),(Ee=Ee||Bt()).calculateSwipeSpeed("x"),Ie)Ft()<g.verticalDragRange?p.close():(a=w.y,o=Re,ct("verticalDrag",0,1,300,h.easing.cubic.out,function(e){w.y=(p.currItem.initialPosition.y-a)*e+a,I((1-o)*e+o),z()}),E("onVerticalDrag",1));else{if((_e||y)&&0===n){if(Wt(e,Ee))return;e="zoomPointerUp"}if(!y)return"swipe"!==e?void Kt():void(!_e&&v>p.currItem.fitRatio&&Ht(Ee))}}var V,X,$,f,J,Q,ee,te,a,v,ne,ae,oe,ie,re,r,se,le,ue,ce,de,me,he,o,pe,ge,fe,ve,ye,we,s,be,ke,xe,Ee,Ce,Ie,ze,l,Se,Te,Ae,Le,_e,u,c,De,d,Me,y,Oe,Fe,je,Re,qe,Pe,Ze=e(),Ne=e(),w=e(),b={},Be=0,He={},k=e(),x=0,We=!0,Ue=[],Ke={},Ye=!1,Ge={},E=function(e){var t=Ge[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var a=0;a<t.length;a++)t[a].apply(p,n)}},C=function(){return(new Date).getTime()},I=function(e){Re=e,p.bg.style.opacity=e*g.bgOpacity},Ve=function(e,t,n,a,o){(!Ye||o&&o!==p.currItem)&&(a/=(o||p.currItem).fitRatio),e[me]=ae+t+"px, "+n+"px"+oe+" scale("+a+")"},z=function(e){Me&&(e&&(v>p.currItem.fitRatio?Ye||(un(p.currItem,!1,!0),Ye=!0):Ye&&(un(p.currItem),Ye=!1)),Ve(Me,w.x,w.y,v))},Xe=function(e){e.container&&Ve(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},$e=function(e,t){t[me]=ae+e+"px, 0px"+oe},Je=function(e,t){var n;!g.loop&&t&&(t=f+(k.x*Be-e)/k.x,n=Math.round(e-D.x),t<0&&0<n||t>=M()-1&&n<0)&&(e=D.x+n*g.mainScrollEndFriction),D.x=e,$e(e,J)},Qe=function(e,t){var n=xt[e]-He[e];return Ne[e]+Ze[e]+n-t/ne*n},S=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},et=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},tt=null,nt=function(){tt&&(h.unbind(document,"mousemove",nt),h.addClass(m,"pswp--has_mouse"),g.mouseUsed=!0,E("mouseUsed")),tt=setTimeout(function(){tt=null},100)},at=function(e,t){e=sn(p.currItem,b,e);return t&&(d=e),e},ot=function(e){return(e=e||p.currItem).initialZoomLevel},it=function(e){return 0<(e=e||p.currItem).w?g.maxSpreadZoom:1},T={},rt=0,st=function(e){T[e]&&(T[e].raf&&ge(T[e].raf),rt--,delete T[e])},lt=function(e){T[e]&&st(e),T[e]||(rt++,T[e]={})},ut=function(){for(var e in T)T.hasOwnProperty(e)&&st(e)},ct=function(e,t,n,a,o,i,r){function s(){T[e]&&(l=C()-u,a<=l?(st(e),i(n),r&&r()):(i((n-t)*o(l/a)+t),T[e].raf=pe(s)))}var l,u=C();lt(e);s()},q={shout:E,listen:i,viewportSize:b,options:g,isMainScrollAnimating:function(){return y},getZoomLevel:function(){return v},getCurrentIndex:function(){return f},isDragging:function(){return l},isZooming:function(){return c},setScrollOffset:function(e,t){He.x=e,we=He.y=t,E("updateScrollOffset",He)},applyZoomPan:function(e,t,n,a){w.x=t,w.y=n,v=e,z(a)},init:function(){if(!V&&!X){p.framework=h,p.template=m,p.bg=h.getChildByClass(m,"pswp__bg"),fe=m.className,V=!0,s=h.detectFeatures(),pe=s.raf,ge=s.caf,me=s.transform,ye=s.oldIE,p.scrollWrap=h.getChildByClass(m,"pswp__scroll-wrap"),p.container=h.getChildByClass(p.scrollWrap,"pswp__container"),J=p.container.style,p.itemHolders=r=[{el:p.container.children[0],wrap:0,index:-1},{el:p.container.children[1],wrap:0,index:-1},{el:p.container.children[2],wrap:0,index:-1}],r[0].el.style.display=r[2].el.style.display="none",me?(t=s.perspective&&!o,ae="translate"+(t?"3d(":"("),oe=s.perspective?", 0px)":")"):(me="left",h.addClass(m,"pswp--ie"),$e=function(e,t){t.left=e+"px"},Xe=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,a=t*e.w,t=t*e.h;n.width=a+"px",n.height=t+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},z=function(){var e,t,n,a;Me&&(e=Me,n=(a=1<(t=p.currItem).fitRatio?1:t.fitRatio)*t.w,a=a*t.h,e.width=n+"px",e.height=a+"px",e.left=w.x+"px",e.top=w.y+"px")}),a={resize:p.updateSize,orientationchange:function(){clearTimeout(be),be=setTimeout(function(){b.x!==p.scrollWrap.clientWidth&&p.updateSize()},500)},scroll:U,keydown:H,click:W};var e,t=s.isOldIOSPhone||s.isOldAndroid||s.isMobileOpera;for(s.animationName&&s.transform&&!t||(g.showAnimationDuration=g.hideAnimationDuration=0),e=0;e<Ue.length;e++)p["init"+Ue[e]]();R&&(p.ui=new R(p,h)).init(),E("firstUpdate"),f=f||g.index||0,(isNaN(f)||f<0||f>=M())&&(f=0),p.currItem=en(f),(s.isOldIOSPhone||s.isOldAndroid)&&(We=!1),m.setAttribute("aria-hidden","false"),g.modal&&(We?m.style.position="fixed":(m.style.position="absolute",m.style.top=h.getScrollY()+"px")),void 0===we&&(E("initialLayout"),we=ve=h.getScrollY());var n="pswp--open ";for(g.mainClass&&(n+=g.mainClass+" "),g.showHideOpacity&&(n+="pswp--animate_opacity "),n=(n=(n+=o?"pswp--touch":"pswp--notouch")+(s.animationName?" pswp--css_animation":""))+(s.svg?" pswp--svg":""),h.addClass(m,n),p.updateSize(),Q=-1,x=null,e=0;e<3;e++)$e((e+Q)*k.x,r[e].el.style);ye||h.bind(p.scrollWrap,te,p),i("initialZoomInEnd",function(){p.setContent(r[0],f-1),p.setContent(r[2],f+1),r[0].el.style.display=r[2].el.style.display="block",g.focus&&m.focus(),h.bind(document,"keydown",p),s.transform&&h.bind(p.scrollWrap,"click",p),g.mouseUsed||h.bind(document,"mousemove",nt),h.bind(window,"resize scroll orientationchange",p),E("bindEvents")}),p.setContent(r[1],f),p.updateCurrItem(),E("afterInit"),We||(ie=setInterval(function(){rt||l||c||v!==p.currItem.initialZoomLevel||p.updateSize()},1e3)),h.addClass(m,"pswp--visible")}var t},close:function(){V&&(X=!(V=!1),E("close"),h.unbind(window,"resize scroll orientationchange",p),h.unbind(window,"scroll",a.scroll),h.unbind(document,"keydown",p),h.unbind(document,"mousemove",nt),s.transform&&h.unbind(p.scrollWrap,"click",p),l&&h.unbind(window,ee,p),clearTimeout(be),E("unbindEvents"),tn(p.currItem,null,!0,p.destroy))},destroy:function(){E("destroy"),Xt&&clearTimeout(Xt),m.setAttribute("aria-hidden","true"),m.className=fe,ie&&clearInterval(ie),h.unbind(p.scrollWrap,te,p),h.unbind(window,"scroll",p),zt(),ut(),Ge=null},panTo:function(e,t,n){n||(e>d.min.x?e=d.min.x:e<d.max.x&&(e=d.max.x),t>d.min.y?t=d.min.y:t<d.max.y&&(t=d.max.y)),w.x=e,w.y=t,z()},handleEvent:function(e){e=e||window.event,a[e.type]&&a[e.type](e)},goTo:function(e){var t=(e=N(e))-f;x=t,f=e,p.currItem=en(f),Be-=t,Je(k.x*Be),ut(),y=!1,p.updateCurrItem()},next:function(){p.goTo(f+1)},prev:function(){p.goTo(f-1)},updateCurrZoomItem:function(e){var t;e&&E("beforeChange",0),Me=r[1].el.children.length&&(t=r[1].el.children[0],h.hasClass(t,"pswp__zoom-wrap"))?t.style:null,d=p.currItem.bounds,ne=v=p.currItem.initialZoomLevel,w.x=d.center.x,w.y=d.center.y,e&&E("afterChange")},invalidateCurrItems:function(){re=!0;for(var e=0;e<3;e++)r[e].item&&(r[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==x){var t,n=Math.abs(x);if(!(e&&n<2)){p.currItem=en(f),Ye=!1,E("beforeChange",x),3<=n&&(Q+=x+(0<x?-3:3),n=3);for(var a=0;a<n;a++)0<x?(t=r.shift(),r[2]=t,$e((++Q+2)*k.x,t.el.style),p.setContent(t,f-n+a+1+1)):(t=r.pop(),r.unshift(t),$e(--Q*k.x,t.el.style),p.setContent(t,f+n-a-1-1));Me&&1===Math.abs(x)&&(e=en(se)).initialZoomLevel!==v&&(sn(e,b),un(e),Xe(e)),x=0,p.updateCurrZoomItem(),se=f,E("afterChange")}}},updateSize:function(e){if(!We&&g.modal){var t=h.getScrollY();if(we!==t&&(m.style.top=t+"px",we=t),!e&&Ke.x===window.innerWidth&&Ke.y===window.innerHeight)return;Ke.x=window.innerWidth,Ke.y=window.innerHeight,m.style.height=Ke.y+"px"}if(b.x=p.scrollWrap.clientWidth,b.y=p.scrollWrap.clientHeight,U(),k.x=b.x+Math.round(b.x*g.spacing),k.y=b.y,Je(k.x*Be),E("beforeResize"),void 0!==Q){for(var n,a,o,i=0;i<3;i++)n=r[i],$e((i+Q)*k.x,n.el.style),o=f+i-1,g.loop&&2<M()&&(o=N(o)),(a=en(o))&&(re||a.needsUpdate||!a.bounds)?(p.cleanSlide(a),p.setContent(n,o),1===i&&(p.currItem=a,p.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===n.index&&0<=o&&p.setContent(n,o),a&&a.container&&(sn(a,b),un(a),Xe(a));re=!1}ne=v=p.currItem.initialZoomLevel,(d=p.currItem.bounds)&&(w.x=d.center.x,w.y=d.center.y,z(!0)),E("resize")},zoomTo:function(t,e,n,a,o){e&&(ne=v,xt.x=Math.abs(e.x)-w.x,xt.y=Math.abs(e.y)-w.y,S(Ne,w));function i(e){1===e?(v=t,w.x=r.x,w.y=r.y):(v=(t-s)*e+s,w.x=(r.x-l.x)*e+l.x,w.y=(r.y-l.y)*e+l.y),o&&o(e),z(1===e)}var e=at(t,!1),r={},s=(B("x",e,r,t),B("y",e,r,t),v),l={x:w.x,y:w.y};et(r);n?ct("customZoomTo",0,1,n,a||h.easing.sine.inOut,i):i(1)}},dt=30,mt=10,A={},ht={},L={},_={},pt={},gt=[],ft={},vt=[],yt={},wt=0,bt=e(),kt=0,D=e(),xt=e(),Et=e(),Ct=function(e,t){return e.x===t.x&&e.y===t.y},It=function(e,t){return yt.x=Math.abs(e.x-t.x),yt.y=Math.abs(e.y-t.y),Math.sqrt(yt.x*yt.x+yt.y*yt.y)},zt=function(){Le&&(ge(Le),Le=null)},St=function(){l&&(Le=pe(St),Nt())},Tt=function(){return!("fit"===g.scaleMode&&v===p.currItem.initialZoomLevel)},At=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:At(e.parentNode,t))},Lt={},_t=function(e,t){return Lt.prevent=!At(e.target,g.isClickableElement),E("preventDragEvent",e,t,Lt),Lt.prevent},Dt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Mt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Ot=function(e,t,n){var a;50<e-xe&&((a=2<vt.length?vt.shift():{}).x=t,a.y=n,vt.push(a),xe=e)},Ft=function(){var e=w.y-p.currItem.initialPosition.y;return 1-Math.abs(e/(b.y/2))},jt={},Rt={},qt=[],Pt=function(e){for(;0<qt.length;)qt.pop();return he?(Pe=0,gt.forEach(function(e){0===Pe?qt[0]=e:1===Pe&&(qt[1]=e),Pe++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(qt[0]=Dt(e.touches[0],jt),1<e.touches.length)&&(qt[1]=Dt(e.touches[1],Rt)):(jt.x=e.pageX,jt.y=e.pageY,jt.id="",qt[0]=jt),qt},Zt=function(e,t){var n,a,o,i=w[e]+t[e],r=0<t[e],s=D.x+t.x,l=D.x-ft.x,u=i>d.min[e]||i<d.max[e]?g.panEndFriction:1,i=w[e]+t[e]*u;return!g.allowPanToNext&&v!==p.currItem.initialZoomLevel||(Me?"h"!==Oe||"x"!==e||Te||(r?(i>d.min[e]&&(u=g.panEndFriction,d.min[e],n=d.min[e]-Ne[e]),(n<=0||l<0)&&1<M()?(o=s,l<0&&s>ft.x&&(o=ft.x)):d.min.x!==d.max.x&&(a=i)):(i<d.max[e]&&(u=g.panEndFriction,d.max[e],n=Ne[e]-d.max[e]),(n<=0||0<l)&&1<M()?(o=s,0<l&&s<ft.x&&(o=ft.x)):d.min.x!==d.max.x&&(a=i))):o=s,"x"!==e)?void(y||_e||v>p.currItem.fitRatio&&(w[e]+=t[e]*u)):(void 0!==o&&(Je(o,!0),_e=o!==ft.x),d.min.x!==d.max.x&&(void 0!==a?w.x=a:_e||(w.x+=t.x*u)),void 0!==o)},Nt=function(){var e,t,n,a,o,i;u&&0!==(e=u.length)&&(S(A,u[0]),L.x=A.x-_.x,L.y=A.y-_.y,c&&1<e?(_.x=A.x,_.y=A.y,!L.x&&!L.y&&Ct(u[1],ht)||(S(ht,u[1]),Te||(Te=!0,E("zoomGestureStarted")),e=It(A,ht),(t=Ut(e))>p.currItem.initialZoomLevel+p.currItem.initialZoomLevel/15&&(qe=!0),n=1,a=ot(),o=it(),t<a?g.pinchToClose&&!qe&&ne<=p.currItem.initialZoomLevel?(I(i=1-(a-t)/(a/1.2)),E("onPinchClose",i),je=!0):t=a-(n=1<(n=(a-t)/a)?1:n)*(a/3):o<t&&(t=o+(n=1<(n=(t-o)/(6*a))?1:n)*a),n<0&&(n=0),Mt(A,ht,bt),Ze.x+=bt.x-Et.x,Ze.y+=bt.y-Et.y,S(Et,bt),w.x=Qe("x",t),w.y=Qe("y",t),Ce=v<t,v=t,z())):Oe&&(Fe&&(Fe=!1,Math.abs(L.x)>=mt&&(L.x-=u[0].x-pt.x),Math.abs(L.y)>=mt)&&(L.y-=u[0].y-pt.y),_.x=A.x,_.y=A.y,0===L.x&&0===L.y||("v"===Oe&&g.closeOnVerticalDrag&&!Tt()?(Ze.y+=L.y,w.y+=L.y,i=Ft(),Ie=!0,E("onVerticalDrag",i),I(i),z()):(Ot(C(),A.x,A.y),Ae=!0,d=p.currItem.bounds,Zt("x",L)||(Zt("y",L),et(w),z())))))},Bt=function(){var t,n,a={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=(1<vt.length?(t=C()-xe+50,vt[vt.length-2]):(t=C()-ke,pt))[e],a.lastFlickOffset[e]=_[e]-n,a.lastFlickDist[e]=Math.abs(a.lastFlickOffset[e]),20<a.lastFlickDist[e]?a.lastFlickSpeed[e]=a.lastFlickOffset[e]/t:a.lastFlickSpeed[e]=0,Math.abs(a.lastFlickSpeed[e])<.1&&(a.lastFlickSpeed[e]=0),a.slowDownRatio[e]=.95,a.slowDownRatioReverse[e]=1-a.slowDownRatio[e],a.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){a.backAnimStarted[t]||(w[t]>d.min[t]?a.backAnimDestination[t]=d.min[t]:w[t]<d.max[t]&&(a.backAnimDestination[t]=d.max[t]),void 0!==a.backAnimDestination[t]&&(a.slowDownRatio[t]=.7,a.slowDownRatioReverse[t]=1-a.slowDownRatio[t],a.speedDecelerationRatioAbs[t]<.05)&&(a.lastFlickSpeed[t]=0,a.backAnimStarted[t]=!0,ct("bounceZoomPan"+t,w[t],a.backAnimDestination[t],e||300,h.easing.sine.out,function(e){w[t]=e,z()})))},calculateAnimOffset:function(e){a.backAnimStarted[e]||(a.speedDecelerationRatio[e]=a.speedDecelerationRatio[e]*(a.slowDownRatio[e]+a.slowDownRatioReverse[e]-a.slowDownRatioReverse[e]*a.timeDiff/10),a.speedDecelerationRatioAbs[e]=Math.abs(a.lastFlickSpeed[e]*a.speedDecelerationRatio[e]),a.distanceOffset[e]=a.lastFlickSpeed[e]*a.speedDecelerationRatio[e]*a.timeDiff,w[e]+=a.distanceOffset[e])},panAnimLoop:function(){T.zoomPan&&(T.zoomPan.raf=pe(a.panAnimLoop),a.now=C(),a.timeDiff=a.now-a.lastNow,a.lastNow=a.now,a.calculateAnimOffset("x"),a.calculateAnimOffset("y"),z(),a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),a.speedDecelerationRatioAbs.x<.05)&&a.speedDecelerationRatioAbs.y<.05&&(w.x=Math.round(w.x),w.y=Math.round(w.y),z(),st("zoomPan"))}};return a},Ht=function(e){return e.calculateSwipeSpeed("y"),d=p.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(lt("zoomPan"),e.lastNow=C(),void e.panAnimLoop())},Wt=function(e,t){var n,a,o;y||(wt=f),"swipe"===e&&(e=_.x-pt.x,i=t.lastFlickDist.x<10,dt<e&&(i||20<t.lastFlickOffset.x)?a=-1:e<-dt&&(i||t.lastFlickOffset.x<-20)&&(a=1)),a&&((f+=a)<0?(f=g.loop?M()-1:0,o=!0):f>=M()&&(f=g.loop?0:M()-1,o=!0),o&&!g.loop||(x+=a,Be-=a,n=!0));var e=k.x*Be,i=Math.abs(e-D.x),r=n||e>D.x==0<t.lastFlickSpeed.x?(r=0<Math.abs(t.lastFlickSpeed.x)?i/Math.abs(t.lastFlickSpeed.x):333,r=Math.min(r,400),Math.max(r,250)):333;return wt===f&&(n=!1),y=!0,E("mainScrollAnimStart"),ct("mainScroll",D.x,e,r,h.easing.cubic.out,Je,function(){ut(),y=!1,wt=-1,!n&&wt===f||p.updateCurrItem(),E("mainScrollAnimComplete")}),n&&p.updateCurrItem(!0),n},Ut=function(e){return 1/De*e*ne},Kt=function(){var e=v,t=ot(),n=it();v<t?e=t:n<v&&(e=n);var a,o=Re;return je&&!Ce&&!qe&&v<t?p.close():(je&&(a=function(e){I((1-o)*e+o)}),p.zoomTo(e,0,200,h.easing.cubic.out,a)),!0};Z("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,a,o){le=e+t,ue=e+n,ce=e+a,de=o?e+o:""}(he=s.pointerEvent)&&s.touch&&(s.touch=!1),he?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):s.touch?(e("touch","start","move","end","cancel"),o=!0):e("mouse","down","move","up"),ee=ue+" "+ce+" "+de,te=le,he&&!o&&(o=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),p.likelyTouchDevice=o,a[le]=K,a[ue]=Y,a[ce]=G,de&&(a[de]=a[ce]),s.touch&&(te+=" mousedown",ee+=" mousemove mouseup",a.mousedown=a[le],a.mousemove=a[ue],a.mouseup=a[ce]),o||(g.allowPanToNext=!1)}}});function Yt(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}e.loading=!0,e.loaded=!1;var n=e.img=h.createEl("pswp__img","img");n.onload=t,n.onerror=function(){e.loadError=!0,t()},n.src=e.src}function Gt(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=g.errorMsg.replace("%url%",e.src),1)}function Vt(){if(nn.length){for(var e,t=0;t<nn.length;t++)(e=nn[t]).holder.index===e.index&&ln(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);nn=[]}}var Xt,$t,Jt,Qt,en,M,tn=function(i,e,r,t){function s(){st("initialZoom"),r?(p.template.removeAttribute("style"),p.bg.removeAttribute("style")):(I(1),e&&(e.style.display="block"),h.addClass(m,"pswp--animated-in"),E("initialZoom"+(r?"OutEnd":"InEnd"))),t&&t(),Qt=!1}Xt&&clearTimeout(Xt),Jt=Qt=!0,i.initialLayout?(l=i.initialLayout,i.initialLayout=null):l=g.getThumbBoundsFn&&g.getThumbBoundsFn(f);var l,u,c,d=r?g.hideAnimationDuration:g.showAnimationDuration;d&&l&&void 0!==l.x?(u=$,c=!p.currItem.src||p.currItem.loadError||g.showHideOpacity,i.miniImg&&(i.miniImg.style.webkitBackfaceVisibility="hidden"),r||(v=l.w/i.w,w.x=l.x,w.y=l.y-ve,p[c?"template":"bg"].style.opacity=.001,z()),lt("initialZoom"),r&&!u&&h.removeClass(m,"pswp--animated-in"),c&&(r?h[(u?"remove":"add")+"Class"](m,"pswp--animate_opacity"):setTimeout(function(){h.addClass(m,"pswp--animate_opacity")},30)),Xt=setTimeout(function(){var t,n,a,o,e;E("initialZoom"+(r?"Out":"In")),r?(t=l.w/i.w,n={x:w.x,y:w.y},a=v,o=Re,e=function(e){1===e?(v=t,w.x=l.x,w.y=l.y-we):(v=(t-a)*e+a,w.x=(l.x-n.x)*e+n.x,w.y=(l.y-we-n.y)*e+n.y),z(),c?m.style.opacity=1-e:I(o-e*o)},u?ct("initialZoom",0,1,d,h.easing.cubic.out,e,s):(e(1),Xt=setTimeout(s,d+20))):(v=i.initialZoomLevel,S(w,i.initialPosition),z(),I(1),c?m.style.opacity=1:I(1),Xt=setTimeout(s,d+20))},r?25:90)):(E("initialZoom"+(r?"Out":"In")),v=i.initialZoomLevel,S(w,i.initialPosition),z(),m.style.opacity=r?0:1,I(1),d?setTimeout(function(){s()},d):s())},O={},nn=[],an={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return $t.length}},on=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},rn=function(e,t,n){var a=e.bounds;a.center.x=Math.round((O.x-t)/2),a.center.y=Math.round((O.y-n)/2)+e.vGap.top,a.max.x=t>O.x?Math.round(O.x-t):a.center.x,a.max.y=n>O.y?Math.round(O.y-n)+e.vGap.top:a.center.y,a.min.x=t>O.x?0:a.center.x,a.min.y=n>O.y?e.vGap.top:a.center.y},sn=function(e,t,n){var a,o;return e.src&&!e.loadError?((a=!n)&&(e.vGap||(e.vGap={top:0,bottom:0}),E("parseVerticalMargin",e)),O.x=t.x,O.y=t.y-e.vGap.top-e.vGap.bottom,a&&(t=O.x/e.w,o=O.y/e.h,e.fitRatio=t<o?t:o,"orig"===(t=g.scaleMode)?n=1:"fit"===t&&(n=e.fitRatio),e.initialZoomLevel=n=1<n?1:n,e.bounds||(e.bounds=on())),n?(rn(e,e.w*n,e.h*n),a&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0):(e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=on(),e.initialPosition=e.bounds.center,e.bounds)},ln=function(e,t,n,a,o,i){t.loadError||a&&(t.imageAppended=!0,un(t,a,t===p.currItem&&Ye),n.appendChild(a),i)&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500)},un=function(e,t,n){var a;e.src&&(t=t||e.container.lastChild,a=n?e.w:Math.round(e.w*e.fitRatio),n=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=a+"px",e.placeholder.style.height=n+"px"),t.style.width=a+"px",t.style.height=n+"px")};Z("Controller",{publicMethods:{lazyLoadItem:function(e){e=N(e);var t=en(e);t&&(!t.loaded&&!t.loading||re)&&(E("gettingData",e,t),t.src)&&Yt(t)},initController:function(){h.extend(g,an,!0),p.items=$t=t,en=p.getItemAt,M=g.getNumItemsFn,g.loop,M()<3&&(g.loop=!1),i("beforeChange",function(e){for(var t=g.preload,n=null===e||0<=e,a=Math.min(t[0],M()),o=Math.min(t[1],M()),i=1;i<=(n?o:a);i++)p.lazyLoadItem(f+i);for(i=1;i<=(n?a:o);i++)p.lazyLoadItem(f-i)}),i("initialLayout",function(){p.currItem.initialLayout=g.getThumbBoundsFn&&g.getThumbBoundsFn(f)}),i("mainScrollAnimComplete",Vt),i("initialZoomInEnd",Vt),i("destroy",function(){for(var e,t=0;t<$t.length;t++)(e=$t[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);nn=null})},getItemAt:function(e){return 0<=e&&void 0!==$t[e]&&$t[e]},allowProgressiveImg:function(){return g.forceProgressiveLoading||!o||g.mouseUsed||1200<screen.width},setContent:function(t,n){g.loop&&(n=N(n));var e=p.getItemAt(t.index);e&&(e.container=null);var a,o,i,e=p.getItemAt(n);e?(E("gettingData",n,e),t.index=n,o=(t.item=e).container=h.createEl("pswp__zoom-wrap"),!e.src&&e.html&&(e.html.tagName?o.appendChild(e.html):o.innerHTML=e.html),Gt(e),sn(e,b),!e.src||e.loadError||e.loaded?e.src&&!e.loadError&&((a=h.createEl("pswp__img","img")).style.opacity=1,a.src=e.src,un(e,a),ln(n,e,o,a,!0)):(e.loadComplete=function(e){if(V){if(t&&t.index===n){if(Gt(e,!0))return e.loadComplete=e.img=null,sn(e,b),Xe(e),void(t.index===f&&p.updateCurrZoomItem());e.imageAppended?!Qt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):s.transform&&(y||Qt)?nn.push({item:e,baseDiv:o,img:e.img,index:n,holder:t,clearPlaceholder:!0}):ln(n,e,o,e.img,y||Qt,!0)}e.loadComplete=null,e.img=null,E("imageLoadComplete",n,e)}},h.features.transform&&(i="pswp__img pswp__img--placeholder",i+=e.msrc?"":" pswp__img--placeholder--blank",i=h.createEl(i,e.msrc?"img":""),e.msrc&&(i.src=e.msrc),un(e,i),o.appendChild(i),e.placeholder=i),e.loading||Yt(e),p.allowProgressiveImg()&&(!Jt&&s.transform?nn.push({item:e,baseDiv:o,img:e.img,index:n,holder:t}):ln(n,e,o,e.img,!0,!0))),Jt||n!==f?Xe(e):(Me=o.style,tn(e,a||e.img)),t.el.innerHTML="",t.el.appendChild(o)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});function cn(e,t,n){var a=document.createEvent("CustomEvent"),t={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};a.initCustomEvent("pswpTap",!0,!0,t),e.target.dispatchEvent(a)}var dn,F,mn={};Z("Tap",{publicMethods:{initTap:function(){i("firstTouchStart",p.onTapStart),i("touchRelease",p.onTapRelease),i("destroy",function(){mn={},dn=null})},onTapStart:function(e){1<e.length&&(clearTimeout(dn),dn=null)},onTapRelease:function(e,t){var n,a,o;!t||Ae||Se||rt||(n=t,dn&&(clearTimeout(dn),dn=null,a=n,o=mn,Math.abs(a.x-o.x)<P)&&Math.abs(a.y-o.y)<P?E("doubleTap",n):"mouse"===t.type?cn(e,t,"mouse"):"BUTTON"===e.target.tagName.toUpperCase()||h.hasClass(e.target,"pswp__single-tap")?cn(e,t):(S(mn,n),dn=setTimeout(function(){cn(e,t),dn=null},300)))}}}),Z("DesktopZoom",{publicMethods:{initDesktopZoom:function(){ye||(o?i("mouseUsed",function(){p.setupDesktopZoom()}):p.setupDesktopZoom(!0))},setupDesktopZoom:function(e){F={};var t="wheel mousewheel DOMMouseScroll";i("bindEvents",function(){h.bind(m,t,p.handleMouseWheel)}),i("unbindEvents",function(){F&&h.unbind(m,t,p.handleMouseWheel)}),p.mouseZoomedIn=!1;function n(){p.mouseZoomedIn&&(h.removeClass(m,"pswp--zoomed-in"),p.mouseZoomedIn=!1),v<1?h.addClass(m,"pswp--zoom-allowed"):h.removeClass(m,"pswp--zoom-allowed"),o()}var a,o=function(){a&&(h.removeClass(m,"pswp--dragging"),a=!1)};i("resize",n),i("afterChange",n),i("pointerDown",function(){p.mouseZoomedIn&&(a=!0,h.addClass(m,"pswp--dragging"))}),i("pointerUp",o),e||n()},handleMouseWheel:function(e){if(v<=p.currItem.fitRatio)return g.modal&&(!g.closeOnScroll||rt||l?e.preventDefault():me&&2<Math.abs(e.deltaY)&&($=!0,p.close())),!0;if(e.stopPropagation(),F.x=0,"deltaX"in e)1===e.deltaMode?(F.x=18*e.deltaX,F.y=18*e.deltaY):(F.x=e.deltaX,F.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(F.x=-.16*e.wheelDeltaX),e.wheelDeltaY?F.y=-.16*e.wheelDeltaY:F.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;F.y=e.detail}at(v,!0);var t=w.x-F.x,n=w.y-F.y;(g.modal||t<=d.min.x&&t>=d.max.x&&n<=d.min.y&&n>=d.max.y)&&e.preventDefault(),p.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:b.x/2+He.x,y:b.y/2+He.y};var t=g.getDoubleTapZoom(!0,p.currItem),n=v===t;p.mouseZoomedIn=!n,p.zoomTo(n?p.currItem.initialZoomLevel:t,e,333),h[(n?"remove":"add")+"Class"](m,"pswp--zoomed-in")}}});function hn(){gn&&clearTimeout(gn),vn&&clearTimeout(vn)}function pn(){var e=zn(),t={};if(!(e.length<5)){var n,a=e.split("&");for(i=0;i<a.length;i++)!a[i]||(n=a[i].split("=")).length<2||(t[n[0]]=n[1]);if(g.galleryPIDs){for(var o=t.pid,i=t.pid=0;i<$t.length;i++)if($t[i].pid===o){t.pid=i;break}}else t.pid=parseInt(t.pid,10)-1;t.pid<0&&(t.pid=0)}return t}var gn,fn,vn,yn,wn,bn,n,kn,xn,En,j,Cn,In={history:!0,galleryUID:1},zn=function(){return j.hash.substring(1)},Sn=function(){var e,t;vn&&clearTimeout(vn),rt||l?vn=setTimeout(Sn,500):(yn?clearTimeout(fn):yn=!0,t=f+1,(e=en(f)).hasOwnProperty("pid")&&(t=e.pid),e=n+"&gid="+g.galleryUID+"&pid="+t,kn||-1===j.hash.indexOf(e)&&(En=!0),t=j.href.split("#")[0]+"#"+e,Cn?"#"+e!==window.location.hash&&history[kn?"replaceState":"pushState"]("",document.title,t):kn?j.replace(t):j.hash=e,kn=!0,fn=setTimeout(function(){yn=!1},60))};Z("History",{publicMethods:{initHistory:function(){var e,t;h.extend(g,In,!0),g.history&&(j=window.location,kn=xn=En=!1,n=zn(),Cn="pushState"in history,-1<n.indexOf("gid=")&&(n=(n=n.split("&gid=")[0]).split("?gid=")[0]),i("afterChange",p.updateURL),i("unbindEvents",function(){h.unbind(window,"hashchange",p.onHashChange)}),e=function(){bn=!0,xn||(En?history.back():n?j.hash=n:Cn?history.pushState("",document.title,j.pathname+j.search):j.hash=""),hn()},i("unbindEvents",function(){$&&e()}),i("destroy",function(){bn||e()}),i("firstUpdate",function(){f=pn().pid}),-1<(t=n.indexOf("pid="))&&"&"===(n=n.substring(0,t)).slice(-1)&&(n=n.slice(0,-1)),setTimeout(function(){V&&h.bind(window,"hashchange",p.onHashChange)},40))},onHashChange:function(){return zn()===n?(xn=!0,void p.close()):void(yn||(wn=!0,p.goTo(pn().pid),wn=!1))},updateURL:function(){hn(),wn||(kn?gn=setTimeout(Sn,800):Sn())}}}),h.extend(p,q)}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).reframe=t()}(this,function(){"use strict";function t(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],r=0,s=i.length;r<s;r++,o++)a[o]=i[r];return a}return function(e,o){return void 0===o&&(o="js-reframe"),("string"==typeof e?t(document.querySelectorAll(e)):"length"in e?t(e):[e]).forEach(function(e){var t,n,a;-1!==e.className.split(" ").indexOf(o)||-1<e.style.width.indexOf("%")||(t=e.getAttribute("height")||e.offsetHeight,n=e.getAttribute("width")||e.offsetWidth,t=("string"==typeof t?parseInt(t):t)/("string"==typeof n?parseInt(n):n)*100,(n=document.createElement("div")).className=o,(a=n.style).position="relative",a.width="100%",a.paddingTop=t+"%",(a=e.style).position="absolute",a.width="100%",a.height="100%",a.left="0",a.top="0",null!=(t=e.parentNode)&&t.insertBefore(n,e),null!=(a=e.parentNode)&&a.removeChild(e),n.appendChild(e))})}}),function(){"use strict";function a(e,a){const o={};e.forEach(function(e){var t=function(e){if(!e)return{};const n={};return e.split("\n").forEach(function(e){var t,e=e.match(/^([^:]+):\s*(.+)$/);e&&(t=e[1].trim(),e=e[2].trim(),n[t]=e)}),n}(e.excerpt),n=t.release_date;n&&n.startsWith(a)&&(o[n]||(o[n]=[]),o[n].push({url:e.url,title:e.title,featureImage:e.feature_image,furokuTitle:t.furoku_title||"",releaseDate:n}))});e=Object.keys(o).sort().reverse();let i="";return e.forEach(function(e){var t=3===(t=(n=e).split("-")).length?parseInt(t[1],10)+"月"+parseInt(t[2],10)+"日":n,n=e.split("-"),n=n[1]+"_"+n[2];i+='<p class="bar-day" id="'+n+'">'+t+"</p>",o[e].forEach(function(e){i=(i=(i+='<article class="calendar__article">')+'  <div class="calendar__link">    <p class="calendar__img">')+'      <a class="calendar__link-inline" href="'+e.url+'" style="display:block;">',e.featureImage?i+='        <img src="'+e.featureImage+'" alt="'+e.title+'" style="display:inline-block;">':i+='        <img src="/assets/images/no-image.png" alt="'+e.title+'" style="display:inline-block;">',i=(i=(i+="      </a>    </p>")+'    <a class="calendar__link-inline-info" href="'+e.url+'">      <div class="calendar__article-info">')+'        <span class="calendar__article-info-title">'+e.title+"</span>",e.furokuTitle&&(i+='        <span class="calendar__article-info-appendix">'+e.furokuTitle+"</span>"),i=(i+="      </div>    </a>")+"  </div></article>"})}),i}function e(){var e,t,n=document.getElementById("calendar-detail-content");n&&(e=n.getAttribute("data-page-slug"))&&(e=e.match(/^calendar(\d{4})(\d{2})$/))&&(t=e[1],e=e[2],t=a(window.calendarPosts||[],t+"-"+e),n.innerHTML=t||"<p>記事が見つかりませんでした。</p>")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(),function(){"use strict";function e(){var e,t,n;0!==(n=document.querySelectorAll(".calendar-item")).length&&n.forEach(function(e){var t=e.getAttribute("data-slug");t&&t.match(/^calendar\d{6}$/)||(e.style.display="none")}),(n=document.querySelector(".btn-simple"))&&(t=new Date,e=String(t.getMonth()+1),t=String(t.getDate()),n.href="#"+(e+"_"+t))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(),function(){"use strict";const e=768;function t(){return window.innerWidth<=e}function n(){if(!t()){const e=document.querySelector(".header");e&&setTimeout(function(){e.classList.add("header-loaded")},300)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n();let a;window.addEventListener("resize",function(){clearTimeout(a),a=setTimeout(function(){var e=document.querySelector(".header");e&&!t()&&e.classList.add("header-loaded")},250)})}(),function(){"use strict";function e(){document.querySelectorAll(".widget-categories select.postform").forEach(function(e){if(e.id){e=e.id;if(e=document.getElementById(e)){var n={},a=e.options;let t=null;for(let e=0;e<a.length;e++){var o=a[e],i=o.text;if(0!==e)if(i&&!i.startsWith(" ")){t=o;var r=/\(\d+\)/.test(i);n[e]={element:o,total:0,originalText:i,hasCount:r}}else if(i&&i.startsWith(" ")&&t){o=i.match(/\((\d+)\)/);if(o){var s=parseInt(o[1],10);for(const u in n)if(n[u].element===t){n[u].total+=s;break}}}}for(const c in n){var l=n[c];l.hasCount||(l.element.text=l.originalText+" ("+l.total+")")}e.onchange=function(){var e=this.options[this.selectedIndex].value;e&&(window.location.href=e)}}}})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(),function(){"use strict";const m={brandmook:"brandmook","25ans-hearstfujingaho":"women-magazine","androsy-takarajimasha":"women-magazine","baila-shueisha":"women-magazine","bestory-kobunsha":"women-magazine","bijinhyakka-kadokawaharuki":"women-magazine","biteki-shogakukan":"women-magazine","cancam-shogakukan":"women-magazine","domani-shogakukan":"women-magazine","eclat-shueisha":"women-magazine","elledecor-hearstfujingaho":"women-magazine","ellejapon-hearstfujingaho":"women-magazine","fudge-saneishobo":"women-magazine","fujingaho-hearstfujingaho":"women-magazine","gina-bunkasha":"women-magazine","ginger-gentosha":"women-magazine","glow-takarajimasha":"women-magazine","harpersbazaar-hearstfujingaho":"women-magazine","inred-takarajimasha":"women-magazine","jelly-bunkasha":"women-magazine","jj-kobunsha":"women-magazine","jsgirl-saneishobo":"women-magazine","kimonoanne-tacshuppan":"women-magazine","kirapichi-gakken":"women-magazine","kunel-magazinehouse":"women-magazine","lafarfa-bunkasha":"women-magazine","larme-tokumashoten":"women-magazine","lee-shueisha":"women-magazine","liniere-takarajimasha":"women-magazine","loveggg-mediaboy":"women-magazine","maquia-shueisha":"women-magazine","marisol-shueisha":"women-magazine","mini-takarajimasha":"women-magazine","more-shueisha":"women-magazine","nicola-shinchosha":"women-magazine","nicopuchi-shinchosha":"women-magazine","nonno-shueisha":"women-magazine","numerotokyo-fusosha":"women-magazine","oggi-shogakukan":"women-magazine","osharetecho-takarajimasha":"women-magazine","otonamuse-takarajimasha":"women-magazine","popteen-kadokawaharuki":"women-magazine","richesse-hearstfujingaho":"women-magazine","seventeen-shueisha":"women-magazine","spring-takarajimasha":"women-magazine","spur-shueisha":"women-magazine","steady-takarajimasha":"women-magazine","sutekinaanohito-takarajimasha":"women-magazine","sweet-takarajimasha":"women-magazine","utsukushiikimono-hearstfujingaho":"women-magazine","vivi-kodansha":"women-magazine","voce-kodansha":"women-magazine","waraku-shogakukan":"women-magazine","with-kodansha":"women-magazine","yogini-peacs":"women-magazine","ciao-shogakukan":"women-manga","nakayosi-kodansha":"women-manga","ribon-shueisha":"women-manga","shocomi-shogakukan":"women-manga","babybook-shogakukan":"child-magazine","fukufuku-fukuinkan":"child-magazine","genki-kodansha":"child-magazine","inaiinai-kodansha":"child-magazine","mebae-shogakukan":"child-magazine","nene-shufu":"child-magazine","okaitsu-kodansha":"child-magazine","otomodachi-kodansha":"child-magazine","pucchigumi-shogakukan":"child-magazine","sho1-shogakukan":"child-magazine","sho8-shogakukan":"child-magazine","tanoyo-kodansha":"child-magazine","telemaga-kodansha":"child-magazine","televikun-shogakukan":"child-magazine","youchien-shogakukan":"child-magazine","39mag-benesse":"mother-magazine","akahoshi-shufunotomo":"mother-magazine","babymo-shufunotomo":"mother-magazine","cookpadplus-7andi":"mother-magazine","croissant-magazinehouse":"mother-magazine","ellegourmet-hearstfujingaho":"mother-magazine","esse-fusosha":"mother-magazine","hiyokoclub-benesse":"mother-magazine","hugmug-sekaibunkasha":"mother-magazine","kodomoe-hakusensha":"mother-magazine","lettuceclub-kadokawa":"mother-magazine","moe-hakusensha":"mother-magazine",orangepage:"mother-magazine","premo-shufunotomo":"mother-magazine","sutekinaokusan-shufutoseikatsusha":"mother-magazine","ellemariage-hearstfujingaho":"wedding-magazine","zexy-recruit":"wedding-magazine","dime-shogakukan":"men-magazine","getnavi-gakkenplus":"men-magazine","lightning-eipublishing":"men-magazine","mensclub-hearstfujingaho":"men-magazine","mensnonno-shueisha":"men-magazine","monomaster-takarajimasha":"men-magazine","monomax-takarajimasha":"men-magazine","smart-takarajimasha":"men-magazine","uomo-shueisha":"men-magazine","bepal-shogakukan":"outdoor-magazine","bicycleclub-eipublishing":"outdoor-magazine","camplife-yamakei":"outdoor-magazine","cyclesports-yaesu":"outdoor-magazine","fielder-kasakura":"outdoor-magazine","peaks-eipublishing":"outdoor-magazine","randonnee-eipublishing":"outdoor-magazine","wandervogel-yamakei":"outdoor-magazine","modernliving-hearstfujingaho":"other-magazine","nikkeiwoman-nikkeibp":"other-magazine","serai-shogakukan":"other-magazine","tabinotecho-kotsushinbun":"other-magazine","tokyowalker-kadokawa":"other-magazine",campaign:"entertainment","furoku-favorite":"entertainment","furoku-ranking":"entertainment","furoku-sufficiency":"entertainment",other:"entertainment",recommended:"entertainment","subscription-tokuten":"entertainment"};function h(t){if(t&&0!==t.length)for(let e=0;e<t.length;e++){var n,a=t[e].slug;if(m[a])return n=m[a],{slug:a,name:t[e].name,url:"/category/"+n+"/"+a+"/"}}return null}function p(e){var t=document.querySelector(".meta-tag ul");t&&t.querySelectorAll('li a[href*="/'+e+'"]').forEach(function(e){e=e.parentElement;e&&e.remove()})}function e(){0===window.location.pathname.indexOf("/category/")&&(document.body.classList.add("category-page"),console.log("Added category-page class to body")),document.querySelectorAll(".post-card[data-magazine-tags]").forEach(function(e){var t=e.getAttribute("data-magazine-tags");if(t)try{var n,a=h(JSON.parse(t));a&&(n=e.querySelector(".magazine-tag-placeholder"))&&(n.innerHTML='<a class="dfont cat-name catid68" href="'+a.url+'">'+a.name+"</a>")}catch(e){}});var t=document.querySelector(".post-category-placeholder[data-magazine-tags]");if(t){var e=t.getAttribute("data-magazine-tags");if(e){var n={brandmook:"ブランドムック","women-magazine":"女性ファッション雑誌","women-manga":"少女・女性マンガの付録","child-magazine":"子供・児童学習 雑誌","mother-magazine":"ママ・主婦雑誌","wedding-magazine":"結婚情報誌","men-magazine":"メンズファッション雑誌","outdoor-magazine":"アウトドア雑誌","other-magazine":"その他雑誌",entertainment:"エンタメ"};try{var a=JSON.parse(e),o=h(a);if(o){t.innerHTML='<div><p class="footer-meta_title">CATEGORY :</p><ul class="post-categories"><li><a href="'+o.url+'" rel="category tag">'+o.name+"</a></li></ul></div>",p(o.slug);var i=m[o.slug];i&&p(i)}else for(let e=0;e<a.length;e++){var r=a[e].slug;if(n[r]){t.innerHTML='<div><p class="footer-meta_title">CATEGORY :</p><ul class="post-categories"><li><a href="/category/'+r+'/" rel="category tag">'+a[e].name+"</a></li></ul></div>",p(r);break}}}catch(e){}}}if(!document.querySelector(".breadcrumb-processed")){var s=document.querySelectorAll(".breadcrumb-placeholder[data-tag-slug]");if(s&&0!==s.length){e=s[0],o=e.getAttribute("data-tag-slug"),i=e.getAttribute("data-tag-name");e.getAttribute("data-post-title");for(let e=1;e<s.length;e++)s[e].remove();var l,u,c=0===window.location.pathname.indexOf("/category/"),d={brandmook:"ブランドムック","women-magazine":"女性ファッション雑誌","women-manga":"少女・女性マンガの付録","child-magazine":"子供・児童学習 雑誌","mother-magazine":"ママ・主婦雑誌","wedding-magazine":"結婚情報誌","men-magazine":"メンズファッション雑誌","outdoor-magazine":"アウトドア雑誌","other-magazine":"その他雑誌",entertainment:"エンタメ",uncategorized:"Uncategorized"};d[o]?c?e.remove():(e.innerHTML='<a href="/category/'+o+'/" itemprop="item"><span itemprop="name">'+i+'</span></a><meta itemprop="position" content="2">',e.setAttribute("itemprop","itemListElement"),e.setAttribute("itemscope",""),e.setAttribute("itemtype","http://schema.org/ListItem"),e.classList.add("breadcrumb-processed")):(l=m[o])&&d[l]&&((u=document.createElement("li")).setAttribute("itemprop","itemListElement"),u.setAttribute("itemscope",""),u.setAttribute("itemtype","http://schema.org/ListItem"),u.innerHTML='<a href="/category/'+l+'/" itemprop="item"><span itemprop="name">'+d[l]+'</span></a><meta itemprop="position" content="2">',e.parentNode.insertBefore(u,e),c?e.remove():(e.innerHTML='<a href="/category/'+l+"/"+o+'/" itemprop="item"><span itemprop="name">'+i+'</span></a><meta itemprop="position" content="3">',e.setAttribute("itemprop","itemListElement"),e.setAttribute("itemscope",""),e.setAttribute("itemtype","http://schema.org/ListItem"),e.classList.add("breadcrumb-processed")))}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(),function(){const e=document.querySelector(".gh-navigation");var t=e.querySelector(".gh-burger");t&&t.addEventListener("click",function(){e.classList.contains("is-open")?(e.classList.remove("is-open"),document.documentElement.style.overflowY=null):(e.classList.add("is-open"),document.documentElement.style.overflowY="hidden")})}(),lightbox(".kg-image-card > .kg-image[width][height], .kg-gallery-image > img"),reframe(document.querySelectorAll(['.gh-content iframe[src*="youtube.com"]','.gh-content iframe[src*="youtube-nocookie.com"]','.gh-content iframe[src*="player.vimeo.com"]','.gh-content iframe[src*="kickstarter.com"][src*="video.html"]',".gh-content object",".gh-content embed"].join(","))),dropdown(),document.body.classList.contains("home-template")||document.body.classList.contains("post-template")||pagination(),document.querySelectorAll(".gh-content > table:not(.gist table)").forEach(function(e){var t=document.createElement("div");t.className="gh-table",e.parentNode.insertBefore(t,e),t.appendChild(e)}),function(){var e=document.querySelectorAll(".new-badge"),t=new Date;const n=new Date(t.getTime()-6048e5);e.forEach(function(e){new Date(e.getAttribute("data-published"))>=n&&(e.style.display="inline")})}(),function(){var e=document.querySelector(".entry-header .updated");e&&e.getAttribute("data-published")!==e.getAttribute("data-updated")&&e.classList.add("show")}(),function(){var e,t=document.querySelector(".fab__contents_img[data-bg-image]");t&&(e=t.getAttribute("data-bg-image"))&&(t.style.backgroundImage=`url(${e})`)}(),function(){"use strict";function e(){var e=document.querySelector(".page-top-btn");e&&e.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(),document.addEventListener("DOMContentLoaded",renderPaginationNumbers),function(){"use strict";function c(e){return e.replace(/^【[^】]+】\s*/,"")}function e(){const t=document.querySelector(".review-nav");if(t){const o=t.getAttribute("data-post-title"),i=t.getAttribute("data-post-slug");var e=(t.getAttribute("data-post-tags")||"").split(",").filter(function(e){return e.trim()});const r=-1!==e.indexOf("hash-before"),s=-1!==e.indexOf("hash-after");if(r||s){let e;if(r?e=document.getElementById("review-nav-posts-after"):s&&(e=document.getElementById("review-nav-posts-before")),e)try{var n=JSON.parse(e.textContent);{var a=n;const l=c(o),u=a.filter(function(e){return e.slug!==i&&c(e.title)===l});let e="";a=0<u.length?u[0]:null;r?e=(e+='<div class="review-nav-tab active">予告</div>')+(a?'<div class="review-nav-tab none-active"><a href="'+a.url+'">開封レビュー</a></div>':'<div class="review-nav-tab review-nav-none">&nbsp;</div>'):s&&(e=e+(a?'<div class="review-nav-tab none-active"><a href="'+a.url+'">予告</a></div>':'<div class="review-nav-tab review-nav-none">&nbsp;</div>')+'<div class="review-nav-tab active">開封レビュー</div>');t.innerHTML=e;return}}catch(e){console.error("レビューナビゲーション: 投稿データのパースエラー",e)}else console.error("レビューナビゲーション: 投稿データが見つかりません")}else t.style.display="none"}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}(),function(){"use strict";const a=["brandmook","25ans-hearstfujingaho","androsy-takarajimasha","baila-shueisha","bestory-kobunsha","bijinhyakka-kadokawaharuki","biteki-shogakukan","cancam-shogakukan","domani-shogakukan","eclat-shueisha","elledecor-hearstfujingaho","ellejapon-hearstfujingaho","fudge-saneishobo","fujingaho-hearstfujingaho","gina-bunkasha","ginger-gentosha","glow-takarajimasha","harpersbazaar-hearstfujingaho","inred-takarajimasha","jelly-bunkasha","jj-kobunsha","jsgirl-saneishobo","kimonoanne-tacshuppan","kirapichi-gakken","kunel-magazinehouse","lafarfa-bunkasha","larme-tokumashoten","lee-shueisha","liniere-takarajimasha","loveggg-mediaboy","maquia-shueisha","marisol-shueisha","mini-takarajimasha","more-shueisha","nicola-shinchosha","nicopuchi-shinchosha","nonno-shueisha","numerotokyo-fusosha","oggi-shogakukan","osharetecho-takarajimasha","otonamuse-takarajimasha","popteen-kadokawaharuki","richesse-hearstfujingaho","seventeen-shueisha","spring-takarajimasha","spur-shueisha","steady-takarajimasha","sutekinaanohito-takarajimasha","sweet-takarajimasha","utsukushiikimono-hearstfujingaho","vivi-kodansha","voce-kodansha","waraku-shogakukan","with-kodansha","yogini-peacs","ciao-shogakukan","nakayosi-kodansha","ribon-shueisha","shocomi-shogakukan","babybook-shogakukan","fukufuku-fukuinkan","genki-kodansha","inaiinai-kodansha","mebae-shogakukan","nene-shufu","okaitsu-kodansha","otomodachi-kodansha","pucchigumi-shogakukan","sho1-shogakukan","sho8-shogakukan","tanoyo-kodansha","telemaga-kodansha","televikun-shogakukan","youchien-shogakukan","39mag-benesse","akahoshi-shufunotomo","babymo-shufunotomo","cookpadplus-7andi","croissant-magazinehouse","ellegourmet-hearstfujingaho","esse-fusosha","hiyokoclub-benesse","hugmug-sekaibunkasha","kodomoe-hakusensha","lettuceclub-kadokawa","moe-hakusensha","orangepage","premo-shufunotomo","sutekinaokusan-shufutoseikatsusha","ellemariage-hearstfujingaho","zexy-recruit","dime-shogakukan","getnavi-gakkenplus","lightning-eipublishing","mensclub-hearstfujingaho","mensnonno-shueisha","monomaster-takarajimasha","monomax-takarajimasha","smart-takarajimasha","uomo-shueisha","bepal-shogakukan","bicycleclub-eipublishing","camplife-yamakei","cyclesports-yaesu","fielder-kasakura","peaks-eipublishing","randonnee-eipublishing","wandervogel-yamakei","modernliving-hearstfujingaho","nikkeiwoman-nikkeibp","serai-shogakukan","tabinotecho-kotsushinbun","tokyowalker-kadokawa","campaign","furoku-favorite","furoku-ranking","furoku-sufficiency","other","recommended","subscription-tokuten"];function e(){var e=document.getElementById("drawer-tag-cloud");if(e){e=e.querySelectorAll(".tag-cloud-link[data-count]");let n=0;const i=[];if(e.forEach(function(e){var t=e.getAttribute("data-slug");-1===a.indexOf(t)&&n<12?(i.push(e),n++):e.style.display="none"}),0!==i.length){let a=1/0,o=0;i.forEach(function(e){e=parseInt(e.getAttribute("data-count"),10);e<a&&(a=e),e>o&&(o=e)});i.forEach(function(e){var t=parseInt(e.getAttribute("data-count"),10);let n;n=o===a?15:8+14*((t-a)/(o-a)),e.style.fontSize=n+"pt"})}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}();
//# sourceMappingURL=source.js.map